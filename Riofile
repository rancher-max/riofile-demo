services:
  custrev:
    env:
    - FOO=${REVISION}
    - BAR=BAZ
    - BAZ=${NAMESPACE}
    build:
      branch: master
      buildContext: .
      dockerfile: Dockerfile
      repo: https://github.com/rancher-max/rio-demo
      imageName: myname/custimage
    ports:
    - 8080
  custlocal:
    build:
      buildContext: ./blah/
      dockerfile: ./blah/Dockerfile
      imageName: localcontext/blahimage:dev
    ports:
    - "8080"

template:
  goTemplate: true # use go templating
  envSubst: true # use ENV vars during templating
  questions:  # now make some questions that we provide answers too
  - variable: FOO
    description: ""
  - variable: NAMESPACE
    description: "The namespace"
  - variable: REVISION
    description: "The revision"
    
