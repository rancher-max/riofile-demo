externalservices:
  foo:
    fqdn: www.foo.com
  ipt:
    ipAddresses:
    - 1.1.1.1
routers:
  myroute:
    routes:
    - matches:
      - path:
          exact: /v1
      to:
      - namespace: default
        revision: v1
        service: d-test
    - matches:
      - path:
          exact: /v3
      to:
      - namespace: default
        revision: v3
        service: d-test
  otherroute:
    routes:
    - matches:
      - path:
          exact: /v1
      to:
      - namespace: default
        revision: v1
        service: gh-test
    - matches:
      - path:
          exact: /v2
      to:
      - namespace: default
        revision: v3
        service: d-test
services:
  d-test:
    concurrency: 10
    image: ibuildthecloud/demo:v1
    imagePullPolicy: IfNotPresent
    ports:
    - "80"
    rollout: true
    rolloutIncrement: 5
    rolloutInterval: 5
    scale: 1-10
    version: v1
    weight: 100
  d-test-v3:
    app: d-test
    concurrency: 10
    image: ibuildthecloud/demo:v3
    imagePullPolicy: IfNotPresent
    ports:
    - "80"
    rollout: true
    rolloutIncrement: 5
    rolloutInterval: 5
    scale: 1-10
    version: v3
  gh-test:
    build:
      BuildTimeout: null
      branch: master
      buildContext: .
      dockerFile: Dockerfile
      dockerFilePath: .
      repo: https://github.com/rancher-max/rio-demo
      template: buildkit
    concurrency: 10
    ports:
    - 80:8080
    rollout: true
    rolloutIncrement: 5
    rolloutInterval: 5
    scale: 1-10
    version: v1
    weight: 100
